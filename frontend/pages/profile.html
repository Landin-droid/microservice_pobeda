<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Личный кабинет</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" 
    crossorigin="anonymous"></script>

    <link rel="icon" type="image/png" href="../forFavicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="../forFavicon/favicon.svg" />
    <link rel="shortcut icon" href="../forFavicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="../forFavicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Pobeda" />
    <link rel="manifest" href="../forFavicon/site.webmanifest" />
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --background-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #333333;
            --border-radius: 10px;
            --box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 2rem;
        }

        input, select, textarea {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid #ced4da;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #8abdff;
            border: 3px solid #8abdff;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.3);
        }

        .booking__container {
            margin-top: 2rem;
        }

        #bookings-list {
            list-style: none;
            padding: 0;
        }

        .booking-item {
            background-color: var(--card-bg);
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: transform 0.3s;
        }

        .booking-item:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow);
        }

        .booking-item button {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        .error {
            color: var(--danger-color);
            font-size: 0.9rem;
            text-align: center;
            margin-top: 0.5rem;
        }

        .success {
            color: var(--success-color);
            font-size: 0.9rem;
            text-align: center;
            margin-top: 0.5rem;
        }
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        @media (max-width: 576px) {
            .booking-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
        }
    </style>
    <link rel="stylesheet" href="../css/profileStyle.css" crossorigin="anonymous">
</head>
<body>
    <header class="header">
        <div class="container__header">
            <div class="header__body">
                <a href="../index.html" class="header__logo">
                    <img src="../images/логоДомик.jpg" alt="Логотип базы отдыха" title="Логотип базы отдыха">
                </a>
                <div class="header__burger">
                    <span></span>
                </div>
                <nav class="header__menu">
                    <ul class="header__list">
                        <li><a href="../index.html" class="header__link slick-element">Главная</a></li>
                        <li><a href="../pages/rent.html" class="header__link slick-element">Прокат</a></li>
                        <li><a href="../pages/book.html" class="header__link slick-element">Бронирование</a></li>
                        <li><a href="../pages/cafe.html" class="header__link slick-element">Кафе</a></li>
                        <li><a href="../pages/karaoke.html" class="header__link slick-element">Караоке-бар</a></li>
                        <li><a href="../pages/profile.html" class="header__link slick-element">Личный кабинет</a></li>
                    </ul>
                    <div class="worktime hburger-active">
                        Время работы: 9:00 – 23:00
                    </div>
                    <a class="workphone hburger-active" href="tel:+71234567890">
                        +7-123-456-78-90
                    </a>
                </nav>
                <div class="grid__works">
                    <div class="header__workphone">
                        Время работы:
                    </div>
                    <div class="header__worktime">
                        9:00 – 23:00
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main class="main__content">
        <div class="container__main1">

            <!-- Форма входа -->
            <div id="login-form" class="card">
                <h2 class="forms-h2">Вход</h2>
                <input type="email" id="login-email" placeholder="Email">
                <input type="password" id="login-password" placeholder="Пароль">
                <button id="login-btn" class="btn">Войти</button>
                <p id="login-message" class="error"></p>
                <div class="footer-auth-card">
                  <p class="login-no-account-p">Нет аккаунта?</p>
                  <button id="show-register" class="show-register">Зарегистрироваться</button>
                </div>
            </div>

            <!-- Форма регистрации -->
            <div id="register-form" class="card hidden">
                <h2 class="forms-h2">Регистрация</h2>
                <input type="text" id="register-name" placeholder="Имя">
                <input type="text" id="register-surname" placeholder="Фамилия">
                <input type="email" id="register-email" placeholder="Email">
                <input type="tel" id="register-phone" placeholder="+79991234567">
                <input type="password" id="register-password" placeholder="Пароль">
                <button id="register-btn" class="btn btn-primary">Зарегистрироваться</button>
                <p id="register-message" class="error"></p>
                <p class="register-no-account-p">Уже есть аккаунт?
                  <button id="show-login" class="show-login">Войти</button>
                </p>
            </div>

            <!-- Личный кабинет -->
            <div id="welcome" class="card hidden">
                <h2 class="forms-h2">Добро пожаловать, <span id="user-name">Пользователь</span>!</h2>
                <p class="email-welcome">Ваш email: <span id="user-email"></span></p>
                <div id="admin-section" class="hidden admin-section">
                    <h3 class="admin-name">Админ-панель</h3>
                    <h4>Управление бронированиями</h4>
                    <div class="table-overflow-div">
                        <table id="all-booking-table">
                        <thead>
                            <tr>
                                <th>Пользователь</th>
                                <th>Объект</th>
                                <th>Дата бронирования</th>
                                <th>Статус</th>
                                <th>Цена</th>
                                <th>Человек</th>
                                <th>Действия</th>
                            </tr>
                        </thead>
                        <tbody id="all-bookings-tbody"></tbody>
                    </table>
                    </div>
                    <h4>Управление домиками и беседками</h4>
                    <button id="add-item-btn" class="btn btn-primary">Добавить объект</button>
                    <div id="add-item-form" class="hidden">
                        <h5 id="item-form-title">Добавить объект</h5>
                        <select id="item-type" onchange="toggleItemFields()">
                            <option value="house">Домик</option>
                            <option value="gazebo">Беседка</option>
                        </select>
                        <input type="text" id="item-name" placeholder="Название">
                        <input type="number" id="item-price" placeholder="Цена (руб)" step="0.01">
                        <input type="number" id="item-people-amount" placeholder="Количество человек">
                        <div id="house-fields" class="checkbox-group">
                            <label><input type="checkbox" id="house-water-supply"> Водоснабжение</label>
                            <label><input type="checkbox" id="house-electricity"> Электричество</label>
                            <label><input type="checkbox" id="house-bathroom"> Ванная</label>
                            <label><input type="checkbox" id="house-fridge"> Холодильник</label>
                            <label><input type="checkbox" id="house-teapot"> Чайник</label>
                            <label><input type="checkbox" id="house-microwave-oven"> Микроволновка</label>
                        </div>
                        <div id="gazebo-fields" class="checkbox-group hidden">
                            <label><input type="checkbox" id="gazebo-electricity"> Электричество</label>
                            <label><input type="checkbox" id="gazebo-grill"> Гриль</label>
                        </div>
                        <textarea id="item-images" placeholder='Массив URL-ов изображений, например: ["image1.jpg", "image2.jpg"]'></textarea>
                        <button id="save-item-btn" class="btn btn-primary">Сохранить</button>
                        <button id="update-item-btn" class="btn btn-primary hidden">Обновить</button>
                        <p id="add-item-message" class="error"></p>
                    </div>
                    <ul id="items-list"></ul>
                </div>
                <button id="edit-profile-btn" class="btn btn-primary">Редактировать профиль</button>
                <div id="edit-profile-form" class="hidden">
                    <h3 class="profile-h3 edit-title-h3">Редактировать профиль</h3>
                    <input type="text" id="edit-name" placeholder="Имя">
                    <input type="text" id="edit-surname" placeholder="Фамилия">
                    <input type="email" id="edit-email" placeholder="Email">
                    <input type="tel" id="edit-phone" placeholder="Телефон (+79991234567)">
                    <button id="save-profile-btn" class="btn btn-primary">Сохранить изменения</button>
                    <p id="edit-message" class="error"></p>
                </div>
                <div class="booking__container">
                    <h3 class="profile-h3">Ваши бронирования:</h3>
                    <ul id="bookings-list"></ul>
                    <h3 class="profile-h3" id="total-sum">Итоговая сумма: 0 руб.</h3>
                </div>
                <button id="pay-button" class="btn btn-primary hidden">Перейти к оплате</button>
                <button id="booking-page-btn" class="btn btn-primary">Перейти к бронированию</button>
                <button id="logout-btn" class="btn btn-danger">Выйти</button>
            </div>
        </div>
    </main>
    <footer class="footer">
        <div class="container__main footer__container">
            <div class="footer__wrapper">
                <div class="footer__contacts">
                    <div class="footer__contacts-item footer__contacts-item--address">
                        <div class="footer__contacts-address-container">
                            <div class="footer__contacts-address">
                                <span class="material-icons gps_fixed">gps_fixed</span>
                                652470, 
                                <span class="text-address">Кемеровская область - Кузбасс,</span>
                                <span class="text-address">г. Анжеро-Судженск,</span>
                                <span class="text-address">начало ул. Хвойной</span>
                            </div>
                            <div class="footer__contacts-coords">
                                <a href="https://yandex.ru/maps/-/CHEiVRjq" class="footer__contacts-link" rel="noopener nofollow" target="_blank">56.074652, 85.971829</a>
                            </div>
                        </div>
                    </div>
                    <div class="footer__contacts-item footer__contacts-item--phone">
                        <div class="footer__contacts-phone">
                            <span class="material-icons smartphone-icon">smartphone</span>
                            <a href="tel:+71234567890" class="footer__contacts-link" target="_blank">+7 123 456 78 90</a>
                        </div>
                    </div>
                    <div class="footer__contacts-item footer__contacts-item--email">
                        <span class="material-icons email-icon">email</span>
                        <a href="mailto:info@pobedabase.ru" class="footer__contacts-link" target="_blank">info@pobedabase.ru</a>
                        <div class="footer__socials">
                            <a href="https://vk.com/b.pobeda" class="social__item icon-vk" target="_blank" rel="noreferrer" aria-label="Ссылка на группу во Вконтакте">
                                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="30" width="30" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M545 117.7c3.7-12.5 0-21.7-17.8-21.7h-58.9c-15 0-21.9 7.9-25.6 16.7 0 0-30 73.1-72.4 120.5-13.7 13.7-20 18.1-27.5 18.1-3.7 
                                    0-9.4-4.4-9.4-16.9V117.7c0-15-4.2-21.7-16.6-21.7h-92.6c-9.4 0-15 7-15 13.5 0 14.2 21.2 17.5 23.4 57.5v86.8c0 19-3.4 22.5-10.9 22.5-20 
                                    0-68.6-73.4-97.4-157.4-5.8-16.3-11.5-22.9-26.6-22.9H38.8c-16.8 0-20.2 7.9-20.2 16.7 0 15.6 20 93.1 93.1 195.5C160.4 378.1 229 416 291.4 
                                    416c37.5 0 42.1-8.4 42.1-22.9 0-66.8-3.4-73.1 15.4-73.1 8.7 0 23.7 4.4 58.7 38.1 40 40 46.6 57.9 69 57.9h58.9c16.8 0 25.3-8.4 
                                    20.4-25-11.2-34.9-86.9-106.7-90.3-111.5-8.7-11.2-6.2-16.2 0-26.2.1-.1 72-101.3 79.4-135.6z"></path>
                                </svg>
                            </a>
                            <a href="https://m.ok.ru/profile/572263020828?__dp=y" class="social__item icon-ok" target="_blank" rel="noreferrer" aria-label="Ссылка на группу в Одноклассниках">
                                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 320 512" height="26" width="26" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M275.1 334c-27.4 17.4-65.1 24.3-90 26.9l20.9 20.6 76.3 76.3c27.9 28.6-17.5 73.3-45.7 45.7-19.1-19.4-47.1-47.4-76.3-76.6L84 
                                    503.4c-28.2 27.5-73.6-17.6-45.4-45.7 19.4-19.4 47.1-47.4 76.3-76.3l20.6-20.6c-24.6-2.6-62.9-9.1-90.6-26.9-32.6-21-46.9-33.3-34.3-59 
                                    7.4-14.6 27.7-26.9 54.6-5.7 0 0 36.3 28.9 94.9 28.9s94.9-28.9 94.9-28.9c26.9-21.1 47.1-8.9 54.6 5.7 12.4 25.7-1.9 38-34.5 59.1zM30.3 
                                    129.7C30.3 58 88.6 0 160 0s129.7 58 129.7 129.7c0 71.4-58.3 129.4-129.7 129.4s-129.7-58-129.7-129.4zm66 0c0 35.1 28.6 63.7 63.7 
                                    63.7s63.7-28.6 63.7-63.7c0-35.4-28.6-64-63.7-64s-63.7 28.6-63.7 64z"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer__copyright__container">
                <div class="footer__copyright-text">
                    © 2024. База отдыха «Победа»
                    <span class="text-official">Официальный сайт.</span>
                </div>
            </div>
            <div class="footer__payments">
                <div class="footer__payments-list">
                    <div class="footer__payments-item">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/d/d6/Visa_2021.svg" alt="Логотип Visa" class="footer__payments-image" loading="lazy">
                    </div>
                    <div class="footer__payments-item icon-mir__item">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/b/b9/Mir-logo.SVG.svg" alt="Логотип Мир" class="footer__payments-image" loading="lazy">
                    </div>
                    <div class="footer__payments-item">
                        <img src="https://cdn.tbank.ru/static/pfa-multimedia/images/ed62434c-f486-441f-9545-767dc7a3303a.svg" alt="Логотип Т-Банк" class="footer__payments-image" loading="lazy">
                    </div>
                    <div class="footer__payments-item">
                        <img src="https://upload.wikimedia.org/wikipedia/ru/c/c7/СБП_логотип.svg" alt="Логотип СБП" class="footer__payments-image" loading="lazy">
                    </div>
                    <div class="footer__payments-item">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/SberPay.png" alt="Логотип SberPay" class="footer__payments-image" loading="lazy">
                    </div>
                    <div class="footer__payments-item">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/UnionPay_logo.svg" alt="Логотип UnionPay" class="footer__payments-image" loading="lazy">
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
    <script src="../js/indexJS.js"></script>
    <script src="../js/profile.js"></script>
</body>
</html>